digraph work_preproc{
  label="work_preproc";
  work_preproc_mcflirt[label="mcflirt (fsl)"];
  work_preproc_selectfiles[label="selectfiles (io)", shape=box3d,style=filled, color=black, colorscheme=greys7 fillcolor=2];
  work_preproc_art[label="art (rapidart)"];
  work_preproc_gunzip_anat[label="gunzip_anat (misc)"];
  work_preproc_segment[label="segment (spm)"];
  work_preproc_threshold_WM[label="threshold_WM (fsl)"];
  work_preproc_resample[label="resample (fsl)"];
  work_preproc_coreg[label="coreg (fsl)"];
  work_preproc_mask_GM[label="mask_GM (fsl)"];
  work_preproc_applywarp[label="applywarp (fsl)"];
  work_preproc_mask_func[label="mask_func (fsl)"];
  work_preproc_detrend[label="detrend (confounds)"];
  work_preproc_mcflirt -> work_preproc_art;
  work_preproc_mcflirt -> work_preproc_art;
  work_preproc_mcflirt -> work_preproc_coreg;
  work_preproc_mcflirt -> work_preproc_applywarp;
  work_preproc_selectfiles -> work_preproc_gunzip_anat;
  work_preproc_gunzip_anat -> work_preproc_segment;
  work_preproc_gunzip_anat -> work_preproc_coreg;
  work_preproc_gunzip_anat -> work_preproc_applywarp;
  work_preproc_segment -> work_preproc_threshold_WM;
  work_preproc_segment -> work_preproc_resample;
  work_preproc_segment -> work_preproc_resample;
  work_preproc_threshold_WM -> work_preproc_coreg;
  work_preproc_resample -> work_preproc_mask_GM;
  work_preproc_coreg -> work_preproc_applywarp;
  work_preproc_mask_GM -> work_preproc_mask_func;
  subgraph cluster_work_preproc_susan {
      label="susan";
    work_preproc_susan_inputnode[label="inputnode (utility)"];
    work_preproc_susan_median[label="median (fsl)"];
    work_preproc_susan_mask[label="mask (fsl)"];
    work_preproc_susan_meanfunc2[label="meanfunc2 (fsl)"];
    work_preproc_susan_merge[label="merge (utility)"];
    work_preproc_susan_multi_inputs[label="multi_inputs (utility)"];
    work_preproc_susan_smooth[label="smooth (fsl)"];
    work_preproc_susan_outputnode[label="outputnode (utility)"];
    work_preproc_susan_inputnode -> work_preproc_susan_median;
    work_preproc_susan_inputnode -> work_preproc_susan_median;
    work_preproc_susan_inputnode -> work_preproc_susan_mask;
    work_preproc_susan_inputnode -> work_preproc_susan_mask;
    work_preproc_susan_inputnode -> work_preproc_susan_multi_inputs;
    work_preproc_susan_inputnode -> work_preproc_susan_multi_inputs;
    work_preproc_susan_median -> work_preproc_susan_merge;
    work_preproc_susan_median -> work_preproc_susan_multi_inputs;
    work_preproc_susan_mask -> work_preproc_susan_meanfunc2;
    work_preproc_susan_meanfunc2 -> work_preproc_susan_merge;
    work_preproc_susan_merge -> work_preproc_susan_multi_inputs;
    work_preproc_susan_multi_inputs -> work_preproc_susan_smooth;
    work_preproc_susan_multi_inputs -> work_preproc_susan_smooth;
    work_preproc_susan_multi_inputs -> work_preproc_susan_smooth;
    work_preproc_susan_multi_inputs -> work_preproc_susan_smooth;
    work_preproc_susan_smooth -> work_preproc_susan_outputnode;
  }
  work_preproc_mask_func -> work_preproc_detrend;
  work_preproc_applywarp -> work_preproc_susan_inputnode;
  work_preproc_susan_outputnode -> work_preproc_mask_func;
  work_preproc_mask_GM -> work_preproc_susan_inputnode;
}